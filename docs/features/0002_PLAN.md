# Feature Plan: Fitness Goals Route Implementation

## Context
The user is experiencing a "Page Not Found" error for `/workouts/flexibility` and needs the fitness goals route properly implemented in the app router with all necessary screens and widgets. The app already has a fitness goals screen in the onboarding flow, but there may be missing routes or navigation issues.

## Technical Requirements

### 1. Route Configuration
- **File**: `lib/navigation/app_router.dart`
- **Action**: Add missing route for `/workouts/flexibility` and ensure all fitness-related routes are properly configured
- **Routes to add/modify**:
  - `/workouts/flexibility` - Flexibility workouts screen
  - `/workouts/strength` - Strength workouts screen (already exists)
  - `/workouts/cardio` - Cardio workouts screen
  - `/workouts/yoga` - Yoga workouts screen
  - `/fitness-goals` - Fitness goals settings screen (already exists)

### 2. Route Names Constants
- **File**: `lib/navigation/route_names.dart`
- **Action**: Add missing route name constants for new workout categories
- **Constants to add**:
  - `flexibilityWorkouts = 'flexibility_workouts'`
  - `cardioWorkouts = 'cardio_workouts'`
  - `yogaWorkouts = 'yoga_workouts'`
  - `flexibilityWorkoutsPath = '/workouts/flexibility'`
  - `cardioWorkoutsPath = '/workouts/cardio'`
  - `yogaWorkoutsPath = '/workouts/yoga'`

### 3. Screen Implementation
- **Files to create**:
  - `lib/features/workout/screens/flexibility_workouts_screen.dart`
  - `lib/features/workout/screens/cardio_workouts_screen.dart`
  - `lib/features/workout/screens/yoga_workouts_screen.dart`

### 4. Widget Components
- **Files to create/modify**:
  - `lib/features/workout/widgets/workout_category_card.dart` (reusable widget)
  - `lib/features/workout/widgets/workout_list_item.dart` (reusable widget)
  - `lib/features/workout/widgets/back_button_widget.dart` (reusable back button)

### 5. Navigation Helper
- **File**: `lib/navigation/app_router.dart` (NavigationHelper class)
- **Action**: Add navigation methods for new workout categories
- **Methods to add**:
  - `goToFlexibilityWorkouts(BuildContext context)`
  - `goToCardioWorkouts(BuildContext context)`
  - `goToYogaWorkouts(BuildContext context)`

## Implementation Algorithm

### Phase 1: Route Configuration
1. Update `route_names.dart` with new route constants
2. Add new routes to `app_router.dart` with proper builders
3. Add navigation helper methods

### Phase 2: Screen Implementation
1. Create base workout screen template with:
   - AppBar with back button (top left)
   - Title and description
   - Workout category cards grid/list
   - Loading states
   - Error handling
2. Implement specific screens for each workout category
3. Add proper navigation and state management

### Phase 3: Widget Components
1. Create reusable workout category card widget
2. Create reusable workout list item widget
3. Create reusable back button widget
4. Ensure consistent styling with app theme

### Phase 4: Integration
1. Update existing workout navigation to include new categories
2. Test all routes and navigation flows
3. Ensure back button functionality works correctly
4. Verify error handling for invalid routes

## Files to Modify/Create

### Core Navigation Files
- `lib/navigation/route_names.dart` - Add new route constants
- `lib/navigation/app_router.dart` - Add new routes and navigation methods

### Screen Files
- `lib/features/workout/screens/flexibility_workouts_screen.dart` - New
- `lib/features/workout/screens/cardio_workouts_screen.dart` - New
- `lib/features/workout/screens/yoga_workouts_screen.dart` - New

### Widget Files
- `lib/features/workout/widgets/workout_category_card.dart` - New
- `lib/features/workout/widgets/workout_list_item.dart` - New
- `lib/features/workout/widgets/back_button_widget.dart` - New

### Existing Files to Update
- `lib/features/workout/screens/workout_home.dart` - Add navigation to new categories
- `lib/features/workout/screens/strength_workouts_screen.dart` - Ensure consistency

## UI/UX Requirements

### Back Button
- **Position**: Top left of every screen
- **Icon**: Standard back arrow (Icons.arrow_back)
- **Functionality**: Navigate to previous screen or home
- **Styling**: Consistent with app theme

### Screen Layout
- **AppBar**: With back button and title
- **Content**: Scrollable list/grid of workout categories
- **Loading State**: Skeleton loading or spinner
- **Error State**: User-friendly error message with retry option
- **Empty State**: Helpful message when no workouts available

### Styling
- **Theme**: Follow existing app color scheme (AppColors)
- **Typography**: Use app text styles consistently
- **Spacing**: Follow app spacing guidelines
- **Responsive**: Work on different screen sizes

## Error Handling
- **Route Not Found**: Proper 404 page with navigation back to home
- **Network Errors**: Retry mechanism and offline state
- **Loading Errors**: Graceful fallback with user feedback
- **Navigation Errors**: Fallback to safe routes

## Testing Considerations
- **Route Testing**: Verify all routes work correctly
- **Navigation Testing**: Test back button and navigation flows
- **Error Testing**: Test error states and edge cases
- **UI Testing**: Verify responsive design and accessibility 